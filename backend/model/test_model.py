# backend/model/test_model.py
from model_logic import (
    classify_letter,
    extract_info,
    estimate_urgency,
    summarize_letter,
    process_letter,
)

TEST_TEXT = """
Уважаемый Иванов Иван Иванович, 

Просим рассмотреть возможность стратегического партнёрства Банка и ООО, в рамках реализации специального выпуска журнала «Финансовый Дом» №12/2026, посвящённого «Финансовой грамотности для малого и среднего бизнеса».

Журнал «Финансовый Дом» — авторитетное издание с аудиторией более 120 000 читателей — руководителей МСБ, владельцев бизнеса, финансовых директоров и предпринимателей, входящих в клиентскую базу крупных банков. Издание входит в топ-5 финансовых журналов России по уровню доверия и цитируемости (по данным Ассоциации деловой прессы, 2025).

Мы предлагаем:

Разместить эксклюзивную авторскую статью от банка на тему: «Как банк помогает МСБ выйти на международные рынки: инструменты финансирования и поддержки» — с участием экспертов вашего банка;
Организовать интервью с руководителем отдела корпоративного банковского обслуживания (в формате «Ключевой взгляд»);
Включить логотип и ссылку на сайт банка в титульной части выпуска и на сайте журнала;
Провести онлайн-вебинар с участием ваших специалистов — как часть продвижения номера (10 000+ ожидаемых участников);
Создать специальный QR-код, ведущий на страницу банка с условиями поддержки МСБ.
В рамках партнёрства мы также готовы предложить:

Возможность включения в материал информации о ваших продуктах (например, «Кредитный калькулятор МСБ» или «Программа льготного финансирования»), без рекламного характера — только в информационно-аналитическом ключе;
Размещение брендированного чек-листа «5 шагов к устойчивому финансовому росту» — как бесплатный бонус для читателей.
Планируем выпуск номера — март 2026 года.

Прошу рассмотреть возможность участия банка в проекте и направить ответ с указанием интереса.

"""

if __name__ == "__main__":
    print("=== Тест: classify_letter ===")
    print(classify_letter(TEST_TEXT))
    print()

    print("=== Тест: extract_info ===")
    print(extract_info(TEST_TEXT))
    print()

    print("=== Тест: estimate_urgency ===")
    print(estimate_urgency(TEST_TEXT))
    print()

    print("=== Тест: summarize_letter ===")
    print(summarize_letter(TEST_TEXT))
    print()

    print("=== Тест: process_letter (полный пайплайн) ===")
    result = process_letter(TEST_TEXT, tone="строгий", answer_length='short')
    for k, v in result.items():
        print(f"{k}: {v}")
        print("-" * 40)
